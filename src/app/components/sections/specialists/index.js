'use client'
import React, { useRef, useState } from "react"
import styles from './styles.module.scss';
import Link from "next/link";
import { motion } from "framer-motion";
import Image from "next/image";

export default function Specialists({ data }) {
  const constraintsRef = useRef(null)

  return (
    <section ref={constraintsRef} className={styles.wrapper}>
      <h2>Wybierz specjalistę</h2>
      {/* <div className={styles.control}>
        <button aria-label='strzałka w lewo' >
          <svg width="65" height="64" viewBox="0 0 65 64" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M45.625 30.1666H26.875L33.0437 24.135C33.2195 23.9646 33.359 23.7618 33.4542 23.5384C33.5494 23.315 33.5984 23.0753 33.5984 22.8333C33.5984 22.5913 33.5494 22.3517 33.4542 22.1283C33.359 21.9049 33.2195 21.7021 33.0437 21.5317C32.6924 21.1902 32.2172 20.9985 31.7219 20.9985C31.2265 20.9985 30.7513 21.1902 30.4 21.5317L22.3563 29.415C21.652 30.0995 21.2542 31.0291 21.25 32C21.2591 32.9645 21.6566 33.8867 22.3563 34.5666L30.4 42.45C30.5748 42.6197 30.7821 42.7541 31.0101 42.8455C31.238 42.9369 31.4821 42.9835 31.7285 42.9826C31.9749 42.9818 32.2187 42.9335 32.4459 42.8405C32.6732 42.7476 32.8795 42.6117 33.0531 42.4408C33.2267 42.2699 33.3642 42.0672 33.4576 41.8443C33.5511 41.6214 33.5988 41.3827 33.5979 41.1418C33.597 40.9009 33.5477 40.6626 33.4526 40.4403C33.3575 40.2181 33.2186 40.0164 33.0437 39.8466L26.875 33.8333H45.625C46.1223 33.8333 46.5992 33.6402 46.9508 33.2963C47.3025 32.9525 47.5 32.4862 47.5 32C47.5 31.5137 47.3025 31.0474 46.9508 30.7036C46.5992 30.3598 46.1223 30.1666 45.625 30.1666Z" fill="#194574" />
          </svg>
        </button>
        <button aria-label='strzałka w prawo' >
          <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M42.9997 32C42.9908 31.0354 42.6021 30.1133 41.918 29.4333L34.053 21.55C33.7095 21.2085 33.2448 21.0168 32.7605 21.0168C32.2762 21.0168 31.8115 21.2085 31.468 21.55C31.2962 21.7204 31.1598 21.9232 31.0667 22.1466C30.9736 22.37 30.9257 22.6096 30.9257 22.8516C30.9257 23.0937 30.9736 23.3333 31.0667 23.5567C31.1598 23.7801 31.2962 23.9829 31.468 24.1533L37.4997 30.1666H19.1663C18.6801 30.1666 18.2138 30.3598 17.87 30.7036C17.5262 31.0474 17.333 31.5137 17.333 32C17.333 32.4862 17.5262 32.9525 17.87 33.2963C18.2138 33.6401 18.6801 33.8333 19.1663 33.8333H37.4997L31.468 39.8649C31.1228 40.2077 30.9279 40.6736 30.9262 41.1601C30.9244 41.6466 31.116 42.1139 31.4588 42.4591C31.8016 42.8043 32.2675 42.9992 32.754 43.001C33.2405 43.0027 33.7078 42.8111 34.053 42.4683L41.918 34.5849C42.6066 33.9005 42.9956 32.9708 42.9997 32Z" fill="#194574" />
          </svg>
        </button>
      </div> */}
      <motion.div transition={{ type: "spring", stiffness: 30 }} dragConstraints={constraintsRef} drag="x" className={styles.grid}>
        {data?.map(({ title, profesje, proffesional }, index) => (
          // <div id={index ? '' : 'ref-item'} key={index} className={styles.item}>
          //   <div>
          //     <Image src={proffesional?.personImage?.mediaItemUrl} alt={proffesional?.personImage?.altText} width={proffesional?.personImage.mediaDetails.width} height={proffesional?.personImage.mediaDetails.height} />
          //     <h3>{title}</h3>
          //     <p>{proffesional?.proffesion}</p>
          //     <ul>
          //       {profesje?.nodes?.map(({ name }, index) => (
          //         <li key={index}>{name}</li>
          //       ))}
          //     </ul>
          //   </div>
          //   <div className={styles.bottom_inform}>
          //     <div className={styles.flex}>
          //       <p>Najbliższy termin:</p>
          //       <p>Wt., 9 Mar 9:30</p>
          //     </div>
          //     <div className={styles.flex}>
          //       <Link className="link" href="#kontakt">Umów wizytę</Link>
          //       {/* <button href='/'>Więcej terminów</button> */}
          //     </div>
          //   </div>
          // </div>

          <div id={index ? '' : 'ref-item'} key={index} className={styles.item}>
            <div>
              <svg width="287" height="286" viewBox="0 0 287 286" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="0.720703" width="285.558" height="285.498" rx="142.749" fill="#F1F6FB" />
                <path fillRule="evenodd" clipRule="evenodd" d="M152.63 94.1391C154.161 95.1623 155.962 95.7085 157.804 95.7085C160.274 95.7085 162.642 94.7274 164.389 92.9809C166.135 91.2345 167.116 88.8658 167.116 86.396C167.116 84.5542 166.57 82.7537 165.547 81.2223C164.524 79.6908 163.069 78.4972 161.367 77.7924C159.666 77.0875 157.793 76.9031 155.987 77.2624C154.18 77.6218 152.521 78.5087 151.219 79.8111C149.916 81.1134 149.029 82.7728 148.67 84.5792C148.311 86.3857 148.495 88.2581 149.2 89.9597C149.905 91.6614 151.099 93.1158 152.63 94.1391ZM182.249 29.5075C193.442 38.9083 200.949 51.9652 203.441 66.3679C207.948 68.2641 211.684 71.6252 214.045 75.9077C216.405 80.1901 217.252 85.1435 216.449 89.9669C215.645 94.7903 213.238 99.2018 209.617 102.488C205.996 105.774 201.373 107.743 196.494 108.075C190.22 121.203 179.931 131.992 167.116 138.881V154.335C177.385 156.454 191.774 162.378 204.836 175.615C220.425 191.414 233.692 217.185 236.267 258.121C236.475 261.428 233.962 264.278 230.655 264.486C227.348 264.694 224.498 262.181 224.29 258.874C221.865 220.31 209.514 197.441 196.294 184.044C193.305 181.015 190.249 178.447 187.221 176.278V215.194C192.67 217.01 198.879 220.753 203.878 227.123C210.494 235.555 214.668 248.165 212.754 266.03L212.275 270.498H207.782H195.221C192.459 270.498 190.221 268.259 190.221 265.498C190.221 262.736 192.459 260.498 195.221 260.498H203.154C203.752 247.325 200.288 238.747 196.011 233.297C191.55 227.611 185.912 224.947 182.002 224.116C178.091 224.947 172.454 227.611 167.992 233.297C163.716 238.747 160.252 247.325 160.849 260.498H168.782C171.544 260.498 173.782 262.736 173.782 265.498C173.782 268.259 171.544 270.498 168.782 270.498H156.221H151.728L151.25 266.03C149.336 248.165 153.509 235.555 160.125 227.123C165.124 220.753 171.334 217.01 176.782 215.194V170.998C176.782 170.724 176.804 170.456 176.846 170.195C170.368 167.173 164.611 165.848 160.701 165.47C145.64 164.012 137.203 164.335 125.879 165.468L125.804 165.475L125.729 165.481C114.975 166.283 105.855 169.737 98.1665 175.023C96.9805 178.605 95.7601 184.29 95.7824 190.368C95.8068 197.034 97.3142 203.477 101.201 208.289C103.246 207.481 105.475 207.037 107.808 207.037C117.749 207.037 125.808 215.096 125.808 225.037C125.808 234.978 117.749 243.037 107.808 243.037C97.8666 243.037 89.8077 234.978 89.8077 225.037C89.8077 221.808 90.6584 218.777 92.1478 216.156C92.0558 216.057 91.9665 215.954 91.8801 215.847C85.6397 208.132 83.8125 198.612 83.7824 190.412C83.7806 189.896 83.7858 189.382 83.7976 188.871C80.7952 192.784 78.1444 197.038 75.8165 201.515C65.7807 220.818 62.2254 243.517 62.7749 258.274C62.8981 261.586 60.3137 264.37 57.0023 264.493C53.6908 264.617 50.9065 262.032 50.7832 258.721C50.166 242.145 54.0622 217.344 65.1695 195.98C75.3858 176.33 92.0976 158.965 117.45 154.441V138.875C105.486 132.362 95.6857 122.496 89.2513 110.491C88.4939 109.028 88.3483 107.325 88.8466 105.756C89.345 104.186 90.4463 102.879 91.9085 102.122C93.3706 101.364 95.0737 101.219 96.6432 101.717C98.2127 102.215 99.5199 103.317 100.277 104.779C107.516 118.785 124.279 132.958 142.283 132.958C161.727 132.958 180.868 115.706 186.555 99.5825C187.039 98.1925 188.003 97.0213 189.275 96.2802C190.547 95.5391 192.041 95.2769 193.489 95.5409C194.005 95.6379 194.529 95.6939 195.054 95.7085C197.358 95.681 199.571 94.7998 201.263 93.2354C202.956 91.671 204.008 89.5345 204.217 87.2392C204.425 84.9439 203.775 82.6528 202.392 80.809C201.009 78.9652 198.992 77.6997 196.73 77.2573C195.41 77.018 194.203 76.3576 193.29 75.375C192.377 74.3924 191.806 73.1404 191.664 71.8064C190.391 59.606 184.636 48.312 175.513 40.1115C166.391 31.911 154.549 27.3875 142.283 27.4168C107.659 27.4168 98.154 49.9407 90.5178 68.0442L90.2263 68.7303C88.9429 71.7525 87.7183 74.636 86.4079 77.2511C98.8934 76.5962 111.069 73.1266 122.024 67.1017C132.98 61.0768 142.431 52.6527 149.671 42.4596C150.13 41.7619 150.725 41.164 151.421 40.7018C152.117 40.2395 152.899 39.9225 153.72 39.7696C154.541 39.6167 155.385 39.631 156.2 39.8119C157.016 39.9927 157.787 40.3362 158.466 40.8219C159.146 41.3076 159.721 41.9254 160.156 42.6384C160.591 43.3514 160.878 44.1449 160.999 44.9714C161.12 45.7979 161.074 46.6403 160.862 47.4483C160.65 48.2563 160.277 49.0132 159.766 49.6737C151.707 61.0979 141.194 70.5737 128.997 77.4063C130.857 77.8617 132.531 78.8794 133.792 80.3206C135.052 81.7619 135.838 83.5566 136.042 85.4605C136.246 87.3644 135.858 89.2849 134.931 90.9603C134.003 92.6357 132.583 93.9846 130.861 94.8233C129.14 95.6619 127.202 95.9497 125.311 95.6472C123.42 95.3447 121.669 94.4668 120.295 93.133C118.921 91.7991 117.992 90.0742 117.634 88.1933C117.276 86.3123 117.506 84.3666 118.294 82.6213C104.02 88.4015 88.5858 90.7409 73.24 89.4505C71.9522 89.2885 70.7476 88.727 69.7955 87.8449C68.8434 86.9628 68.1917 85.8045 67.932 84.5328C67.6723 83.2611 67.8177 81.9401 68.3478 80.7553C68.8778 79.5706 69.7659 78.5817 70.887 77.9278C74.6402 73.6696 77.433 68.6535 79.0758 63.2203C87.1777 44.0179 99.4454 15.0002 142.283 15.0002C156.9 14.9678 171.057 20.1066 182.249 29.5075ZM129.866 153.054C137.755 152.414 144.983 152.258 154.7 152.927V143.749C146.566 145.934 138 145.934 129.866 143.749V153.054ZM107.808 231.037C111.121 231.037 113.808 228.351 113.808 225.037C113.808 221.724 111.121 219.037 107.808 219.037C104.494 219.037 101.808 221.724 101.808 225.037C101.808 228.351 104.494 231.037 107.808 231.037Z" fill="#194574" />
              </svg>
              <h3>I Ty możesz zostać specjalistą PsychoDietMed!</h3>
              <Link className="link" href="#kontakt">Skontaktuj się</Link>
            </div>
          </div>
        ))}
      </motion.div>
    </section>
  )
}